<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Faiznute - Portofolio</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>

  <header>
  <div class="container">
    <a href="index.html" class="logo-link">
      <div class="logo">FAIZNUTE</div>
    </a>

    <div class="menu-toggle" id="menu-toggle">☰</div>

    <nav>
      <ul id="nav-list">
        <li><a href="index.html">Home</a></li>
        <li><a href="project/projects.html">Portofolio</a></li>
        <li><a href="about.html">About</a></li>
      </ul>
    </nav>
  </div>
</header>

  <main>
    <section class="login-section">
      <div id="password-gate">
        <h1>Access Project Management</h1>
        <div class="form-group">
          <label for="access-password">Password:</label>
          <input type="password" id="access-password" required>
        </div>
      </div>

      <div id="main-content" style="display: none;">
        <h1>Project Management</h1>

      <!-- Existing Projects Section -->
      <div id="existing-projects">
        <h2>Manage Existing Projects</h2>
        <div class="form-group">
          <label for="project-select">Select Project:</label>
          <select id="project-select">
            <option value="">-- Choose a project --</option>
          </select>
        </div>
        <div id="project-actions" style="display: none;">
          <button id="edit-selected" class="edit-btn">Edit Selected Project</button>
          <button id="delete-selected" class="delete-btn">Delete Selected Project</button>
          <button id="approve-selected" class="edit-btn" style="display: none;">Approve</button>
          <button id="reject-selected" class="delete-btn" style="display: none;">Reject</button>
          <button id="export-projects" class="edit-btn">Export Projects to JSON</button>
        </div>
      </div>

      <h2 id="form-title">Submit New Project</h2>
      <form id="project-form">
        <div class="form-group">
          <label for="title">Project Title:</label>
          <input type="text" id="title" required>
        </div>

        <div class="form-group">
          <label for="category">Category:</label>
          <select id="category" required>
            <option value="website">Website</option>
            <option value="design">Design</option>
            <option value="video">Video</option>
          </select>
        </div>

        <div class="form-group">
          <label for="tags">Tags (comma separated):</label>
          <input type="text" id="tags" placeholder="e.g. Website, UI/UX, Responsive">
        </div>

        <div class="form-group" id="thumbnail-group">
          <label for="thumbnail">Thumbnail Image (optional):</label>
          <input type="file" id="thumbnail">
        </div>

        <div class="form-group">
          <label for="description">Description:</label>
          <textarea id="description" required></textarea>
        </div>

        <div class="form-group">
          <label for="tools">Tools (comma separated):</label>
          <input type="text" id="tools" placeholder="e.g. Figma, HTML, CSS">
        </div>

        <div class="form-group">
          <label>Gallery Images:</label>
          <div id="images-container">
            <div class="image-item">
              <input type="text" placeholder="Image Title" class="image-title">
              <input type="file" accept="image/*" class="image-file">
              <button type="button" class="remove-image">Remove</button>
            </div>
          </div>
          <button type="button" id="add-image">Add Image</button>
        </div>

        <div class="form-group">
          <label>Video Links:</label>
          <div id="video-container">
            <div class="video-item">
              <input type="text" placeholder="Video Title" class="video-title">
              <input type="url" placeholder="https://..." class="video-link">
              <button type="button" class="remove-video">Remove</button>
            </div>
          </div>
          <button type="button" id="add-video">Add Video</button>
        </div>

        <button type="submit">Submit Project</button>
      </form>

      <!-- Edit Project Section -->
      <div id="edit-project" style="display: none;">
        <h2>Edit Project</h2>
        <div class="form-group">
          <label for="import-json">Import JSON (paste project data to auto-fill form):</label>
          <textarea id="import-json" placeholder="Paste JSON here..."></textarea>
          <button type="button" id="import-json-btn">Import JSON</button>
        </div>
        <form id="edit-form">
          <div class="form-group">
            <label for="edit-title">Project Title:</label>
            <input type="text" id="edit-title" required>
          </div>

          <div class="form-group">
            <label for="edit-category">Category:</label>
            <select id="edit-category" required>
              <option value="website">Website</option>
              <option value="design">Design</option>
              <option value="video">Video</option>
            </select>
          </div>

          <div class="form-group">
            <label for="edit-thumbnail">Thumbnail Image (leave empty to keep current):</label>
            <input type="file" id="edit-thumbnail" accept="image/*">
          </div>

          <div class="form-group">
            <label for="edit-description">Description:</label>
            <textarea id="edit-description" required></textarea>
          </div>

          <div class="form-group">
            <label for="edit-tools">Tools (comma separated):</label>
            <input type="text" id="edit-tools" placeholder="e.g. Figma, HTML, CSS">
          </div>

          <div class="form-group">
            <label for="edit-tags">Tags (comma separated):</label>
            <input type="text" id="edit-tags" placeholder="e.g. Website, UI/UX, Responsive">
          </div>

          <div class="form-group">
            <label>Gallery Images:</label>
            <div id="edit-images-container">
              <!-- Dynamic edit gallery items will be added here -->
            </div>
            <button type="button" id="edit-add-image">Add Image</button>
          </div>

          <div class="form-group">
            <label>Video Links:</label>
            <div id="edit-video-container">
              <!-- Dynamic edit video items will be added here -->
            </div>
            <button type="button" id="edit-add-video">Add Video</button>
          </div>

          <button type="button" id="save-edit">Save Changes</button>
          <button type="button" id="cancel-edit">Cancel</button>
        </form>
      </div>
      </div>
    </section>
  </main>

  <footer>
    <p>© 2025 FAIZNUTE. All rights reserved.</p>
  </footer>

  <script src="script.js"></script>
  <script src="project/js/projects-data.js"></script>
  <script>



    const accessPassword = document.getElementById('access-password');

    const login = () => {
      const pass = accessPassword.value;
      if (pass === 'faiznute') {
        localStorage.setItem('projectManagementLoggedIn', 'true');
        document.getElementById('password-gate').style.display = 'none';
        document.getElementById('main-content').style.display = 'block';
        populateProjectSelect();
      } else {
        alert('Password salah');
      }
    };

    accessPassword.addEventListener('input', () => {
      if (accessPassword.value === 'faiznute') {
        login();
      }
    });

    accessPassword.addEventListener('keyup', (e) => {
      if (e.key === 'Enter') {
        login();
      }
    });



    // Handle adding/removing images
    const imagesContainer = document.getElementById('images-container');
    const addImageBtn = document.getElementById('add-image');

    addImageBtn.addEventListener('click', () => {
      const imageItem = document.createElement('div');
      imageItem.classList.add('image-item');
      imageItem.innerHTML = `
        <input type="text" placeholder="Image Title" class="image-title">
        <input type="file" accept="image/*" class="image-file">
        <button type="button" class="remove-image">Remove</button>
      `;
      addDragDropToImageItem(imageItem);
      imagesContainer.appendChild(imageItem);
    });

    // Function to add drag and drop to image item
    function addDragDropToImageItem(item) {
      const fileInput = item.querySelector('.image-file');
      item.addEventListener('dragover', (e) => {
        e.preventDefault();
        item.classList.add('drag-over');
      });
      item.addEventListener('dragleave', () => {
        item.classList.remove('drag-over');
      });
      item.addEventListener('drop', (e) => {
        e.preventDefault();
        item.classList.remove('drag-over');
        const files = e.dataTransfer.files;
        if (files.length > 0 && files[0].type.startsWith('image/')) {
          fileInput.files = files;
        }
      });
    }

    // Add drag drop to initial image item
    document.querySelectorAll('.image-item').forEach(addDragDropToImageItem);

    // Add drag drop to thumbnail
    const thumbnailGroup = document.getElementById('thumbnail-group');
    thumbnailGroup.addEventListener('dragover', (e) => {
      e.preventDefault();
      thumbnailGroup.classList.add('drag-over');
    });
    thumbnailGroup.addEventListener('dragleave', () => {
      thumbnailGroup.classList.remove('drag-over');
    });
    thumbnailGroup.addEventListener('drop', (e) => {
      e.preventDefault();
      thumbnailGroup.classList.remove('drag-over');
      const files = e.dataTransfer.files;
      if (files.length > 0 && files[0].type.startsWith('image/')) {
        document.getElementById('thumbnail').files = files;
      }
    });

    imagesContainer.addEventListener('click', (e) => {
      if (e.target.classList.contains('remove-image')) {
        e.target.parentElement.remove();
      }
    });

    // Handle adding/removing videos
    const videoContainer = document.getElementById('video-container');
    const addVideoBtn = document.getElementById('add-video');

    addVideoBtn.addEventListener('click', () => {
      const videoItem = document.createElement('div');
      videoItem.classList.add('video-item');
      videoItem.innerHTML = `
        <input type="text" placeholder="Video Title" class="video-title">
        <input type="url" placeholder="https://..." class="video-link">
        <button type="button" class="remove-video">Remove</button>
      `;
      videoContainer.appendChild(videoItem);
    });

    videoContainer.addEventListener('click', (e) => {
      if (e.target.classList.contains('remove-video')) {
        e.target.parentElement.remove();
      }
    });

    // Handle adding/removing edit images
    const editImagesContainer = document.getElementById('edit-images-container');
    const editAddImageBtn = document.getElementById('edit-add-image');

    editAddImageBtn.addEventListener('click', () => {
      const imageItem = document.createElement('div');
      imageItem.classList.add('image-item');
      imageItem.innerHTML = `
        <input type="text" placeholder="Image Title" class="image-title">
        <input type="file" class="image-file">
        <button type="button" class="remove-image">Remove</button>
      `;
      addDragDropToImageItem(imageItem);
      editImagesContainer.appendChild(imageItem);
    });

    editImagesContainer.addEventListener('click', (e) => {
      if (e.target.classList.contains('remove-image')) {
        e.target.parentElement.remove();
      }
    });

    // Handle adding/removing edit videos
    const editVideoContainer = document.getElementById('edit-video-container');
    const editAddVideoBtn = document.getElementById('edit-add-video');

    editAddVideoBtn.addEventListener('click', () => {
      const videoItem = document.createElement('div');
      videoItem.classList.add('video-item');
      videoItem.innerHTML = `
        <input type="text" placeholder="Video Title" class="video-title">
        <input type="url" placeholder="https://..." class="video-link">
        <button type="button" class="remove-video">Remove</button>
      `;
      editVideoContainer.appendChild(videoItem);
    });

    editVideoContainer.addEventListener('click', (e) => {
      if (e.target.classList.contains('remove-video')) {
        e.target.parentElement.remove();
      }
    });

    // Handle form submission
    document.getElementById('project-form').addEventListener('submit', async (e) => {
      e.preventDefault();

      const title = document.getElementById('title').value;
      const category = document.getElementById('category').value;
      const tags = document.getElementById('tags').value.split(',').map(t => t.trim()).filter(t => t);
      const thumbnailFile = document.getElementById('thumbnail').files[0];
      const description = document.getElementById('description').value;
      const tools = document.getElementById('tools').value.split(',').map(t => t.trim()).filter(t => t);

      // Validation
      if (!title || !category || !description) {
        alert('Please fill all required fields: Title, Category, Description');
        return;
      }
      if (thumbnailFile && !thumbnailFile.type.startsWith('image/')) {
        alert('Please select a valid image file for thumbnail');
        return;
      }

      // Encode thumbnail
      const thumbnailBase64 = thumbnailFile ? await fileToBase64(thumbnailFile) : '';

      // Encode gallery images and videos
      const gallery = [];
      const imageItems = document.querySelectorAll('.image-item');
      for (let item of imageItems) {
        const titleInput = item.querySelector('.image-title');
        const fileInput = item.querySelector('.image-file');
        if (fileInput.files[0]) {
          const base64 = await fileToBase64(fileInput.files[0]);
          gallery.push({ type: 'image', title: titleInput.value, src: base64 });
        }
      }

      // Add videos
      const videoItems = document.querySelectorAll('.video-item');
      for (let item of videoItems) {
        const titleInput = item.querySelector('.video-title');
        const linkInput = item.querySelector('.video-link');
        if (titleInput.value && linkInput.value) {
          gallery.push({ type: 'video', title: titleInput.value, src: linkInput.value });
        }
      }

      const project = {
        id: title.replace(/\s+/g, '-').toLowerCase(),
        title,
        category,
        image: thumbnailBase64,
        description,
        longDescription: description, // Use description as longDescription
        date: new Date().toLocaleDateString(),
        tools,
        tags,
        gallery,
        status: 'pending'
      };

      // Save to localStorage
      const stored = localStorage.getItem('submittedProjects');
      const projects = stored ? JSON.parse(stored) : [];
      projects.push(project);
      localStorage.setItem('submittedProjects', JSON.stringify(projects));

      alert('Project submitted successfully!');
      populateProjectSelect();
      // Reset form
      document.getElementById('project-form').reset();
      // Clear dynamic images
      imagesContainer.innerHTML = `
        <div class="image-item">
          <input type="text" placeholder="Image Title" class="image-title">
          <input type="file" accept="image/*" class="image-file">
          <button type="button" class="remove-image">Remove</button>
        </div>
      `;
      // Clear dynamic videos
      videoContainer.innerHTML = `
        <div class="video-item">
          <input type="text" placeholder="Video Title" class="video-title">
          <input type="url" placeholder="https://..." class="video-link">
          <button type="button" class="remove-video">Remove</button>
        </div>
      `;
    });

    // Helper function to convert file to base64
    function fileToBase64(file) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = () => resolve(reader.result);
        reader.onerror = reject;
        reader.readAsDataURL(file);
      });
    }

    let editingProject = null;
    const editProjectDiv = document.getElementById('edit-project');
    const saveEditBtn = document.getElementById('save-edit');
    const cancelEditBtn = document.getElementById('cancel-edit');

    function populateProjectSelect() {
      const select = document.getElementById('project-select');
      select.innerHTML = '<option value="">-- Choose a project --</option>';
      // Include static projects, excluding deleted ones
      const deletedStatic = localStorage.getItem('deletedStaticProjects') || '[]';
      const deleted = JSON.parse(deletedStatic);
      staticProjectsData.forEach(project => {
        if (!deleted.includes(project.id)) {
          const option = document.createElement('option');
          option.value = project.id;
          option.textContent = project.title + ' (Static)';
          select.appendChild(option);
        }
      });
      // Include submitted projects (exclude rejected)
      const stored = localStorage.getItem('submittedProjects');
      const projects = stored ? JSON.parse(stored) : [];
      projects.filter(p => p.status !== 'rejected').forEach(project => {
        const option = document.createElement('option');
        option.value = project.id;
        option.textContent = project.title + (project.status === 'approved' ? '' : ' (' + (project.status || 'pending') + ')');
        select.appendChild(option);
      });
    }

    document.getElementById('project-select').addEventListener('change', () => {
      const actions = document.getElementById('project-actions');
      if (document.getElementById('project-select').value) {
        actions.style.display = 'block';
        const id = document.getElementById('project-select').value;
        const stored = localStorage.getItem('submittedProjects');
        const projects = stored ? JSON.parse(stored) : [];
        const isSubmitted = projects.some(p => p.id === id);
        const proj = projects.find(p => p.id === id);
        if (isSubmitted) {
          if (proj && proj.status === 'approved') {
            document.getElementById('edit-selected').style.display = 'inline';
            document.getElementById('delete-selected').style.display = 'inline';
            document.getElementById('approve-selected').style.display = 'none';
            document.getElementById('reject-selected').style.display = 'none';
          } else {
            document.getElementById('edit-selected').style.display = 'none';
            document.getElementById('delete-selected').style.display = 'none';
            document.getElementById('approve-selected').style.display = 'inline';
            document.getElementById('reject-selected').style.display = 'inline';
          }
        } else {
          document.getElementById('edit-selected').style.display = 'inline';
          document.getElementById('delete-selected').style.display = 'inline';
          document.getElementById('approve-selected').style.display = 'none';
          document.getElementById('reject-selected').style.display = 'none';
        }
      } else {
        actions.style.display = 'none';
      }
    });

    document.getElementById('edit-selected').addEventListener('click', () => {
      const id = document.getElementById('project-select').value;
      if (id) {
        editProject(id);
      }
    });

    document.getElementById('delete-selected').addEventListener('click', () => {
      const id = document.getElementById('project-select').value;
      if (id) {
        deleteProject(id);
      }
    });

    document.getElementById('export-projects').addEventListener('click', () => {
      const stored = localStorage.getItem('submittedProjects');
      const projects = stored ? JSON.parse(stored) : [];
      const json = JSON.stringify(projects, null, 2);
      navigator.clipboard.writeText(json).then(() => {
        alert('Projects JSON copied to clipboard. Paste it into project/js/projects-data.js to replace staticProjectsData.');
      }).catch(err => {
        console.error('Failed to copy: ', err);
        alert('Failed to copy to clipboard. Check console for JSON.');
        console.log(json);
      });
    });

    document.getElementById('import-json-btn').addEventListener('click', () => {
      try {
        const jsonText = document.getElementById('import-json').value;
        const json = JSON.parse(jsonText);
        document.getElementById('edit-title').value = json.title || '';
        document.getElementById('edit-category').value = json.category || '';
        document.getElementById('edit-description').value = json.description || '';
        document.getElementById('edit-tools').value = (json.tools || []).join(', ');
        document.getElementById('edit-tags').value = (json.tags || []).join(', ');
        // Clear and populate gallery
        editImagesContainer.innerHTML = '';
        editVideoContainer.innerHTML = '';
        (json.gallery || []).forEach(item => {
          if (item.type === 'image') {
            const imageItem = document.createElement('div');
            imageItem.classList.add('image-item');
            imageItem.innerHTML = `
              <input type="text" placeholder="Image Title" class="image-title" value="${item.title || ''}">
              <input type="file" class="image-file">
              <button type="button" class="remove-image">Remove</button>
            `;
            addDragDropToImageItem(imageItem);
            editImagesContainer.appendChild(imageItem);
          } else if (item.type === 'video') {
            const videoItem = document.createElement('div');
            videoItem.classList.add('video-item');
            videoItem.innerHTML = `
              <input type="text" placeholder="Video Title" class="video-title" value="${item.title || ''}">
              <input type="url" placeholder="https://..." class="video-link" value="${item.src || ''}">
              <button type="button" class="remove-video">Remove</button>
            `;
            editVideoContainer.appendChild(videoItem);
          }
        });
        alert('JSON imported successfully!');
      } catch (e) {
        alert('Invalid JSON: ' + e.message);
      }
    });

    document.getElementById('approve-selected').addEventListener('click', () => {
      const id = document.getElementById('project-select').value;
      if (id) {
        const stored = localStorage.getItem('submittedProjects');
        let projects = stored ? JSON.parse(stored) : [];
        const index = projects.findIndex(p => p.id === id);
        if (index !== -1) {
          projects[index].status = 'approved';
          localStorage.setItem('submittedProjects', JSON.stringify(projects));
          alert('Project approved!');
          populateProjectSelect();
        }
      }
    });

    document.getElementById('reject-selected').addEventListener('click', () => {
      const id = document.getElementById('project-select').value;
      if (id) {
        const stored = localStorage.getItem('submittedProjects');
        let projects = stored ? JSON.parse(stored) : [];
        const index = projects.findIndex(p => p.id === id);
        if (index !== -1) {
          projects[index].status = 'rejected';
          localStorage.setItem('submittedProjects', JSON.stringify(projects));
          alert('Project rejected!');
          populateProjectSelect();
        }
      }
    });

    function editProject(id) {
      let stored = localStorage.getItem('submittedProjects');
      let projects = stored ? JSON.parse(stored) : [];
      editingProject = projects.find(p => p.id === id);
      if (!editingProject) {
        // Check static projects
        const staticProj = staticProjectsData.find(p => p.id === id);
        if (staticProj) {
          editingProject = { ...staticProj }; // Copy to avoid modifying static
        }
      }
      if (editingProject) {
        document.getElementById('edit-title').value = editingProject.title;
        document.getElementById('edit-category').value = editingProject.category;
        document.getElementById('edit-description').value = editingProject.description;
        document.getElementById('edit-tools').value = editingProject.tools.join(', ');
        document.getElementById('edit-tags').value = editingProject.tags.join(', ');
        // Populate gallery
        editImagesContainer.innerHTML = '';
        editVideoContainer.innerHTML = '';
        editingProject.gallery.forEach(item => {
          if (item.type === 'image') {
            const imageItem = document.createElement('div');
            imageItem.classList.add('image-item');
            imageItem.innerHTML = `
              <input type="text" placeholder="Image Title" class="image-title" value="${item.title}">
              <input type="file" class="image-file">
              <button type="button" class="remove-image">Remove</button>
            `;
            addDragDropToImageItem(imageItem);
            editImagesContainer.appendChild(imageItem);
          } else if (item.type === 'video') {
            const videoItem = document.createElement('div');
            videoItem.classList.add('video-item');
            videoItem.innerHTML = `
              <input type="text" placeholder="Video Title" class="video-title" value="${item.title}">
              <input type="url" placeholder="https://..." class="video-link" value="${item.src}">
              <button type="button" class="remove-video">Remove</button>
            `;
            editVideoContainer.appendChild(videoItem);
          }
        });
        editProjectDiv.style.display = 'block';
        document.getElementById('project-form').style.display = 'none';
        document.getElementById('form-title').style.display = 'none';
        document.getElementById('existing-projects').style.display = 'none';
      }
    }

    function deleteProject(id) {
      if (confirm('Are you sure you want to delete this project?')) {
        const isStatic = staticProjectsData.some(p => p.id === id);
        if (isStatic) {
          // Mark static project as deleted
          const deletedStatic = localStorage.getItem('deletedStaticProjects') || '[]';
          let deleted = JSON.parse(deletedStatic);
          if (!deleted.includes(id)) {
            deleted.push(id);
            localStorage.setItem('deletedStaticProjects', JSON.stringify(deleted));
          }
        } else {
          // Delete from submitted projects
          const stored = localStorage.getItem('submittedProjects');
          if (stored) {
            let projects = JSON.parse(stored);
            projects = projects.filter(p => p.id !== id);
            localStorage.setItem('submittedProjects', JSON.stringify(projects));
          }
        }
        populateProjectSelect();
      }
    }

    saveEditBtn.addEventListener('click', async () => {
      if (editingProject) {
        const title = document.getElementById('edit-title').value;
        const category = document.getElementById('edit-category').value;
        const description = document.getElementById('edit-description').value;
        const tools = document.getElementById('edit-tools').value.split(',').map(t => t.trim()).filter(t => t);
        const tags = document.getElementById('edit-tags').value.split(',').map(t => t.trim()).filter(t => t);
        const thumbnailFile = document.getElementById('edit-thumbnail').files[0];
        let thumbnailBase64 = editingProject.image;
        if (thumbnailFile) {
          thumbnailBase64 = await fileToBase64(thumbnailFile);
        }
        // Rebuild gallery
        const gallery = [];
        const editImageItems = document.querySelectorAll('#edit-images-container .image-item');
        for (let item of editImageItems) {
          const titleInput = item.querySelector('.image-title');
          const fileInput = item.querySelector('.image-file');
          if (fileInput.files[0]) {
            const base64 = await fileToBase64(fileInput.files[0]);
            gallery.push({ type: 'image', title: titleInput.value, src: base64 });
          } else if (titleInput.value) {
            // Keep existing if no new file, but since we can't know, only add if file
          }
        }
        const editVideoItems = document.querySelectorAll('#edit-video-container .video-item');
        for (let item of editVideoItems) {
          const titleInput = item.querySelector('.video-title');
          const linkInput = item.querySelector('.video-link');
          if (titleInput.value && linkInput.value) {
            gallery.push({ type: 'video', title: titleInput.value, src: linkInput.value });
          }
        }
        editingProject.title = title;
        editingProject.id = title.replace(/\s+/g, '-').toLowerCase();
        editingProject.category = category;
        editingProject.description = description;
        editingProject.longDescription = description;
        editingProject.tools = tools;
        editingProject.tags = tags;
        editingProject.image = thumbnailBase64;
        editingProject.gallery = gallery;
        const stored = localStorage.getItem('submittedProjects');
        let projects = stored ? JSON.parse(stored) : [];
        const index = projects.findIndex(p => p.id === editingProject.id);
        if (index !== -1) {
          projects[index] = editingProject;
        } else {
          // If not found, add as new
          projects.push(editingProject);
        }
        localStorage.setItem('submittedProjects', JSON.stringify(projects));
        alert('Project updated successfully!');
        editProjectDiv.style.display = 'none';
        document.getElementById('project-form').style.display = 'block';
        document.getElementById('form-title').style.display = 'block';
        document.getElementById('existing-projects').style.display = 'block';
        populateProjectSelect();
      }
    });

    cancelEditBtn.addEventListener('click', () => {
      editImagesContainer.innerHTML = '';
      editVideoContainer.innerHTML = '';
      editProjectDiv.style.display = 'none';
      document.getElementById('project-form').style.display = 'block';
      document.getElementById('form-title').style.display = 'block';
      document.getElementById('existing-projects').style.display = 'block';
      populateProjectSelect();
    });


  </script>
</body>
</html>
